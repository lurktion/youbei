(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1807cac4"],{"351c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",[a("el-row",[a("el-col",{attrs:{span:22,offset:1}},[a("el-alert",{attrs:{title:"本地存储即是Yserver服务，当前服务是bate版功能，实验环境下测试正常可用，用后续将继续完善",type:"warning","close-text":"知道了"}})],1),a("el-col",[a("div",{staticStyle:{height:"20px"}})])],1),a("el-row",[a("el-col",{attrs:{span:22,offset:1}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"服务配置"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:5}},[a("el-form",{attrs:{model:t.formData,size:"mini"}},[a("el-form-item",{attrs:{label:"存储路径","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:t.formData.savepath,callback:function(e){t.$set(t.formData,"savepath",e)},expression:"formData.savepath"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.enableDirSearch("savepath")}},slot:"append"})],1)],1),a("el-form-item",{attrs:{label:"启用状态","label-width":t.formLabelWidth}},[a("el-switch",{on:{change:t.enable},model:{value:t.formData.enable,callback:function(e){t.$set(t.formData,"enable",e)},expression:"formData.enable"}})],1),a("el-form-item",{attrs:{label:"端口","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:t.formData.port,callback:function(e){t.$set(t.formData,"port",e)},expression:"formData.port"}})],1),a("el-form-item",{attrs:{label:"上传用户","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),a("el-form-item",{attrs:{label:"上传密码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"show-password":"",autocomplete:"off"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("el-form-item",{attrs:{label:"","label-width":t.formLabelWidth}},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)],1)],1)],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"请选择",visible:t.dialogDirVisible},on:{"update:visible":function(e){t.dialogDirVisible=e}}},[a("dirlist",{attrs:{dialogDirVisible:t.dialogDirVisible,"key-name":t.keyName},on:{close:t.changeDir}})],1)],1)},l=[],o=(a("b0c0"),a("9794")),s={components:{Dirlist:o["a"]},data:function(){return{keyName:"",dialogDirVisible:!1,formData:{enable:!1},dialogFormVisible:!1,formLabelWidth:"120px"}},created:function(){this.getlist()},methods:{changeDir:function(t){this.formData[t.name]=t.value,this.dialogDirVisible=!1},enableDirSearch:function(t){this.formData.enable?this.$message("请先关闭服务"):(this.keyName=t,this.dialogDirVisible=!0)},getlist:function(){var t=this;this.$http.Get(this.$api.serviceUpload,{},(function(e){t.formData=e}))},submit:function(){var t=this;this.$http.Put(this.$api.serviceUpload+"/"+this.formData.id,this.formData,(function(){t.getlist()}),"修改Yserver配置")},enable:function(){if(""===this.formData.savepath)return this.$message("没有选择路径，无法开启"),void(this.formData.enable=!1)}}},r=s,n=a("2877"),c=Object(n["a"])(r,i,l,!1,null,null,null);e["default"]=c.exports},9794:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mydiv"},[a("el-tree",{ref:"tree",attrs:{props:t.props,load:t.loadNode,"check-on-click-node":!0,lazy:"","node-key":"path","show-checkbox":"","check-strictly":!0},on:{check:t.nodeClick}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.clickDirPath}},[t._v("确 定")])],1)])},l=[],o={props:{keyName:{type:String,default:""}},data:function(){return{input:"",props:{label:"label",children:"children",isLeaf:"isLeaf",path:"path"}}},methods:{clickDirPath:function(){var t={name:this.keyName,value:this.input};this.$emit("close",t)},loadNode:function(t,e){0===t.level?this.$http.Get(this.$api.dirlist,{},(function(t){return e(t)})):this.$http.Get(this.$api.dirlist,{dir:t.data.path},(function(t){return e(t)}))},nodeClick:function(t){this.$refs.tree.setCheckedNodes([t]),this.input=t.path}}},s=o,r=a("2877"),n=Object(r["a"])(s,i,l,!1,null,null,null);e["a"]=n.exports}}]);